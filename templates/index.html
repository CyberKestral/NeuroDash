
<!DOCTYPE html>
<html>
<head>
    <title>NeuroDash X</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="hud" id="hud">
    <h1>ğŸ§  NeuroDash X</h1>

    <select id="personality">
        <option>Calm</option>
        <option>Energetic</option>
        <option>Analytical</option>
    </select>

    <textarea id="text" placeholder="Type or speak..."></textarea>

    <div class="buttons">
        <button onclick="analyze()">Analyze</button>
        <button onclick="voice()">ğŸ™ï¸ Speak</button>
    </div>

    <div id="result"></div>
</div>

<script>
function analyze() {
    fetch("/analyze", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            text: document.getElementById("text").value,
            personality: document.getElementById("personality").value
        })
    })
    .then(res => res.json())
    .then(data => {
        document.getElementById("result").innerHTML =
            `Emotion: ${data.emotion}<br>
             Sentiment: ${data.sentiment}<br>
             Insight: ${data.insight}`;

        document.getElementById("hud").className = "hud " + data.emotion;
    });
}

function voice() {
    let rec = new webkitSpeechRecognition();
    rec.lang = "en-US";
    rec.start();
    rec.onresult = e => {
        document.getElementById("text").value = e.results[0][0].transcript;
    };
}
</script>
</body>
</html>
